<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<div class="overlay" [class.active]="activeSidebar" (click)="closeSidebar()"></div>

<header>
  <div class="header-container">
    <a [routerLink]="['/mainpage']" class="logo">
      <img src="assets/Logo.png" alt="Logo" class="logo">
    </a>
    <input type="text" placeholder="Search bar" class="search-bar">
    <nav>
      <ul class="menu">
        <a [routerLink]="['/bestrated']">Legjobb értékelés</a>
        <a [routerLink]="['/newrelease']">Legújabb megjelenések</a>
        <a [routerLink]="['/category']">Kategóriák</a>
      </ul>
    </nav>
    <div class="user-icon-link" (click)="toggleSidebar('attekintes')">
      <i class="fas fa-user-circle"></i>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" [class.active]="activeSidebar === 'attekintes'">
      <h2>{{ showLoginForm ? 'Bejelentkezés' : 'Regisztráció' }}</h2>

      <!-- Regisztráció -->
      <form *ngIf="!showLoginForm" (submit)="onRegisterSubmit($event)">
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="Adj meg egy email címet" required>
        </div>
        <div class="form-group">
          <label for="username">Felhasználónév:</label>
          <input type="text" id="username" name="username" placeholder="Adj meg egy felhasználónevet" required>
        </div>
        <div class="form-group">
          <label for="password">Jelszó:</label>
          <input type="password" id="password" name="password" placeholder="Adj meg egy jelszót" required>
        </div>
        <div class="form-group">
          <label for="confirm-password">Jelszó megerősítése:</label>
          <input type="password" id="confirm-password" name="confirm-password" placeholder="Erősítsd meg a jelszavad" required>
        </div>
        <button type="submit" class="btn">Regisztráció</button>
      </form>

      <!-- Login -->
      <form *ngIf="showLoginForm" (submit)="onLoginSubmit($event)">
        <div class="form-group">
          <label for="login-username">Felhasználónév:</label>
          <input type="text" id="login-username" name="username" placeholder="Add meg a felhasználóneved" required>
        </div>
        <div class="form-group">
          <label for="login-password">Jelszó:</label>
          <input type="password" id="login-password" name="password" placeholder="Add meg a jelszavad" required>
        </div>
        <button type="submit" class="btn">Bejelentkezés</button>
      </form>

      <p class="login" (click)="toggleForm()">
        {{ showLoginForm ? 'Nincs fiókod? Regisztráció' : 'Már van fiókod? Bejelentkezés' }}
      </p>
    </div>

  </div>
</header>